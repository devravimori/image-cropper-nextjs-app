(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(652)}])},652:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(7568),s=n(4051),i=n.n(s),o=n(5893),a=n(9008),l=n.n(a),d=n(5675),c=n.n(d),h=n(7294),u=n(3913),x=function(e){return(0,o.jsx)(o.Fragment,{children:e.show?(0,o.jsxs)("div",{className:"relative z-[1000]",children:[(0,o.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),(0,o.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,o.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,o.jsxs)("div",{className:"w-full max-w-4xl transform overflow-hidden rounded-md bg-white text-left align-middle shadow-xl transition-all",children:[(0,o.jsxs)("div",{className:"flex items-center bg-gray-100 ",children:[(0,o.jsx)("div",{className:"pl-4 font-bold text-gray-500",children:"View output"}),(0,o.jsx)("button",{title:"Close the Modal",className:"px-5 py-3 text-gray-500 focus:outline-none ml-auto",onClick:e.closeModal,children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m-15 0l15 15"})})})]}),(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row lg:space-x-8 p-5 lg:p-6",children:[(0,o.jsx)("div",{className:"w-full lg:w-1/2",children:(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)("h3",{className:"border-b text-xl mt-3 lg:mt-0 lg:text-2xl font-semibold mb-2 lg:mb-5 pb-3 lg:pb-5 text-gray-500",children:"Original Image"}),(0,o.jsx)("p",{children:(0,o.jsx)("img",{className:"rounded",src:e.image.original.src,width:"400px",loading:"lazy"})})]})}),(0,o.jsxs)("div",{className:"w-full lg:w-1/2 px-2",children:[(0,o.jsx)("h3",{className:"border-b text-xl mt-3 lg:mt-0 lg:text-2xl font-semibold mb-2 lg:mb-5 pb-3 lg:pb-5 text-gray-500",children:"Cropped Image"}),(0,o.jsx)("p",{children:(0,o.jsx)(c(),{className:"rounded",src:e.image.crop,width:300,height:300,loading:"lazy"})}),(0,o.jsx)("div",{className:"my-5",children:(0,o.jsx)("a",{href:e.image.crop,download:"cropped-image.png",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:"Download Image"})})]})]})]})})})]}):null})},p=(0,h.memo)(x),m=function(){var e=(0,h.useRef)(null),t=(0,h.useState)(""),n=t[0],s=t[1],a=(0,h.useState)(!1),d=a[0],x=a[1],m=(0,h.useState)({x:0,y:0,width:500,height:500}),g=m[0],f=m[1],w=(0,h.useState)({x:0,y:0,width:0,height:0}),j=w[0],v=w[1],b=(0,h.useState)(1),k=b[0],y=b[1],N=(0,h.useState)(!1),L=N[0],C=N[1],M=(0,h.useState)({}),F=M[0],W=M[1],_=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.currentTarget.files&&t.currentTarget.files.length>0&&(y(1),f({x:0,y:0,width:500,height:500}),n=t.currentTarget.files[0],(r=new FileReader).onload=function(e){s(e.target.result)},r.readAsDataURL(n),t.currentTarget.value="");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=(0,h.useCallback)((function(e){f(e)}),[]),V=(0,h.useCallback)((function(e){y(e)}),[]),P=(0,h.useCallback)((function(e,t){v(t)}),[]),S=function(){var e=(0,r.Z)(i().mark((function e(){var t,s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,new Promise(function(){var e=(0,r.Z)(i().mark((function e(t){var r,s,o,a,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("canvas")).width=j.width,r.height=j.height,s=r.getContext("2d"),(o=document.createElement("img")).src=n||"",a=window.devicePixelRatio,r.width=j.width*a,r.height=j.height*a,null===s||void 0===s||s.setTransform(a,0,0,a,0,0),null===s||void 0===s||s.drawImage(o,j.x,j.y,j.width,j.height,0,0,j.width,j.height),e.next=13,new Promise((function(e){r.toBlob((function(t){e(URL.createObjectURL(t))}),"image/jpeg")}));case 13:l=e.sent,t({crop:l,original:o});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:t=e.sent,s=t.crop,o=t.original,W({original:o,crop:s}),C(!0),x(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=(0,h.useCallback)((function(){C(!1)}),[]);return(0,o.jsxs)("div",{children:[(0,o.jsxs)(l(),{children:[(0,o.jsx)("title",{children:"Profile edit module"}),(0,o.jsx)("meta",{name:"description",content:"Generated by create next app"})]}),(0,o.jsxs)("main",{className:"bg-gray-500",children:[(0,o.jsx)(p,{show:L,image:F,closeModal:T}),(0,o.jsx)("div",{className:"container mx-auto",children:(0,o.jsxs)("div",{className:"flex flex-col justify-center items-center h-screen px-3 lg:px-0",children:[(0,o.jsxs)("div",{className:"bg-white rounded-md w-full md:w-80 lg:w-[375px] shadow px-6 lg:px-8 py-6 text-center",children:[(0,o.jsx)("h1",{className:"font-semibold mb-2",children:"Zdj\u0119cie profilowe"}),(0,o.jsx)("p",{className:"mb-3",children:"Dodaj lub zmie\u0144 obecne zdj\u0119cie profilowe"}),(0,o.jsx)("button",{onClick:function(){var t;return null===(t=e.current)||void 0===t?void 0:t.click()},className:"border border-gray-700 rounded-md px-4 py-1.5 text-gray-700 hover:bg-gray-700 hover:text-white transition-colors duration-75",children:"Dodaj zdj\u0119cie"}),(0,o.jsx)("input",{ref:e,onChange:_,className:"hidden",type:"file"}),(0,o.jsx)("div",{className:"py-3",children:(0,o.jsx)("div",{className:"relative w-full aspect-square",children:n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"absolute top-9 left-1/2 -translate-x-1/2 z-50 bg-black/50 flex items-center justify-between px-3 py-1.5 rounded-md space-x-2 w-[200px]",children:[(0,o.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M17.8423 9.42408V7.3192C17.8423 6.76095 17.6205 6.22557 17.2257 5.83083C16.8309 5.43609 16.2954 5.21432 15.7371 5.21432H7.31616C6.75782 5.21432 6.22235 5.43609 5.82754 5.83083C5.43274 6.22557 5.21094 6.76095 5.21094 7.3192V15.7387C5.21094 16.297 5.43274 16.8323 5.82754 17.2271C6.22235 17.6218 6.75782 17.8436 7.31616 17.8436H9.42139",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M11.5254 11.528L20.9989 14.6854L16.7885 16.7902L14.6832 21L11.5254 11.528Z",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M1 1V1.01044",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M5.21114 1V1.01044",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M9.41992 1V1.01044",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M13.6309 1V1.01044",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M1 5.21432V5.22476",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M1 9.4209V9.43134",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsx)("path",{d:"M1 13.6275V13.6379",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,o.jsx)("div",{className:"text-white",children:"Przeci\u0105gaj i dopasuj"})]}),(0,o.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0",children:(0,o.jsx)(u.ZP,{image:n,crop:g,rotation:0,zoom:k,aspect:1,cropShape:"round",showGrid:!1,onCropChange:z,onCropComplete:P,onZoomChange:V})})]}):(0,o.jsx)(c(),{src:"/images/profile-placeholder.webp",layout:"responsive",width:20,height:20})})}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",id:"image",children:[(0,o.jsx)("button",{onClick:function(){y((function(e){return parseFloat((parseFloat(e.toFixed(1))-.1).toFixed(1))}))},className:"px-1 text-gray-600 disabled:text-gray-400",disabled:k<=1,children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H6"})})}),(0,o.jsx)("input",{onChange:function(e){y(parseFloat(parseFloat(e.currentTarget.value).toFixed(1)))},className:"w-full",type:"range",min:1,max:3,step:.1,value:k}),(0,o.jsx)("button",{onClick:function(){y((function(e){return parseFloat((parseFloat(e.toFixed(1))+.1).toFixed(1))}))},className:"px-1 text-gray-600 disabled:text-gray-400",disabled:k>=3,children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})})})]}),(0,o.jsxs)("div",{className:"space-x-3 mt-4 flex justify-center items-center",children:[(0,o.jsx)("button",{onClick:function(){s(null),y(1),f({x:0,y:0,width:500,height:500})},className:"border border-gray-700 rounded-md px-4 py-1.5 text-gray-700 hover:bg-gray-700 hover:text-white transition-colors duration-75",children:"Anuluj"}),(0,o.jsxs)("button",{onClick:S,disabled:j.width<=0&&j.height<=0,className:"border border-orange-600 bg-orange-600 rounded-md px-4 py-1.5 text-white hover:bg-orange-700 transition-colors duration-75 inline-flex items-center space-x-2",children:[(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"animate-spin ".concat(d?"inline-block":"hidden"),width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,o.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M12 3a9 9 0 1 0 9 9"})]}),(0,o.jsx)("span",{children:"Zapisz zmiany"})]})]})]})]}),(0,o.jsx)("div",{className:"mt-3",children:(0,o.jsxs)("p",{className:"text-gray-100",children:["Developed with \u2764 by ",(0,o.jsx)("a",{href:"https://optimumitapps.com",target:"_blank",className:"underline underline-offset-2",children:"Optimumitapps"}),"."]})})]})})]})]})}}},function(e){e.O(0,[822,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);